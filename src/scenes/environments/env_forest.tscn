[gd_scene load_steps=17 format=3 uid="uid://bwlvqqsapvnqw"]

[ext_resource type="Script" uid="uid://466r2hsx0sun" path="res://scripts/sim/SceneEnvironment.gd" id="1_a18hc"]
[ext_resource type="Script" uid="uid://b2q26cxghcrvs" path="res://scripts/audio/EnvSoundController.gd" id="2_gotkl"]
[ext_resource type="PackedScene" uid="uid://b3gtxkdmv0434" path="res://assets/models/terrain/terrain.glb" id="2_m1cxp"]
[ext_resource type="AudioStream" uid="uid://drsd47pjk7d0k" path="res://audio/environment/sfx_ambience_forest_day_loop.wav" id="3_d6m07"]
[ext_resource type="Script" uid="uid://clucmhgrefkg3" path="res://scripts/terrain/environments/forest_terrain.gd" id="3_mjmqf"]
[ext_resource type="Material" uid="uid://bdvlyuu8o6iah" path="res://assets/models/terrain/forest_ground.material" id="3_ntxx4"]
[ext_resource type="AudioStream" uid="uid://11xqouk1f16i" path="res://audio/environment/sfx_ambience_forest_night_loop.wav" id="4_kpyhj"]
[ext_resource type="AudioStream" uid="uid://bppci5cltyly3" path="res://audio/environment/sfx_ambience_forest_rain_light_loop.wav" id="5_0dr1p"]
[ext_resource type="AudioStream" uid="uid://0w44dl5b8lp1" path="res://audio/environment/sfx_ambience_forest_wind_light_loop.wav" id="5_6utbu"]
[ext_resource type="AudioStream" uid="uid://chliyt3yv8s5x" path="res://audio/environment/sfx_ambience_forest_rain_heavy_loop.wav" id="6_ehuav"]
[ext_resource type="AudioStream" uid="uid://7jeea3rpnset" path="res://audio/environment/sfx_ambience_forest_wind_strong_loop.wav" id="6_twpdf"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7hg7v"]
transparency = 1
shading_mode = 0
albedo_color = Color(1, 0, 0, 0.7490196)

[sub_resource type="BoxMesh" id="BoxMesh_fnomj"]
material = SubResource("StandardMaterial3D_7hg7v")
size = Vector3(3.3, 1.7, 3.5)

[sub_resource type="BoxMesh" id="BoxMesh_b77up"]
size = Vector3(0.2, 0.15, 0.3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7chd0"]
transparency = 1
shading_mode = 0
albedo_color = Color(0, 0, 1, 0.7490196)

[sub_resource type="PrismMesh" id="PrismMesh_cxntu"]
size = Vector3(0.3, 0.2, 0.15)

[node name="EnvForest" type="Node3D"]
script = ExtResource("1_a18hc")

[node name="Helpers" type="Node3D" parent="."]
unique_name_in_owner = true
metadata/_edit_lock_ = true

[node name="TentShape" type="MeshInstance3D" parent="Helpers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8550242, 0)
mesh = SubResource("BoxMesh_fnomj")
skeleton = NodePath("../..")
metadata/_edit_lock_ = true

[node name="TentDoorArrow" type="MeshInstance3D" parent="Helpers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5525934, -1.9004143)
mesh = SubResource("BoxMesh_b77up")
surface_material_override/0 = SubResource("StandardMaterial3D_7chd0")
metadata/_edit_lock_ = true

[node name="ArrowHead" type="MeshInstance3D" parent="Helpers/TentDoorArrow"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 3.3228877e-09, -0.20120525)
mesh = SubResource("PrismMesh_cxntu")
surface_material_override/0 = SubResource("StandardMaterial3D_7chd0")
metadata/_edit_lock_ = true

[node name="Content" type="Node" parent="." node_paths=PackedStringArray("scene_env", "terrain")]
script = ExtResource("3_mjmqf")
scene_env = NodePath("..")
terrain = NodePath("Terrain")

[node name="Terrain" parent="Content" instance=ExtResource("2_m1cxp")]
unique_name_in_owner = true

[node name="Terrain" parent="Content/Terrain" index="0"]
surface_material_override/0 = ExtResource("3_ntxx4")

[node name="WeatherCollision" type="GPUParticlesCollisionBox3D" parent="Content/Terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
size = Vector3(50, 0.1, 50)

[node name="EnvSoundController" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("2_gotkl")
crossfade_time = 2.0
sound_ambient_day = Array[AudioStream]([ExtResource("3_d6m07")])
sound_ambient_night = Array[AudioStream]([ExtResource("4_kpyhj")])
sound_rain_light = Array[AudioStream]([ExtResource("5_0dr1p")])
sound_rain_heavy = Array[AudioStream]([ExtResource("6_ehuav")])
sound_wind_light = Array[AudioStream]([ExtResource("5_6utbu")])
sound_wind_heavy = Array[AudioStream]([ExtResource("6_twpdf")])

[node name="Ambient" type="Node" parent="EnvSoundController"]

[node name="StreamA" type="AudioStreamPlayer" parent="EnvSoundController/Ambient"]
bus = &"Environment"

[node name="StreamB" type="AudioStreamPlayer" parent="EnvSoundController/Ambient"]
bus = &"Environment"

[node name="WeatherPrecipitation" type="Node" parent="EnvSoundController"]

[node name="StreamA" type="AudioStreamPlayer" parent="EnvSoundController/WeatherPrecipitation"]
bus = &"Environment"

[node name="StreamB" type="AudioStreamPlayer" parent="EnvSoundController/WeatherPrecipitation"]
bus = &"Environment"

[node name="WeatherWind" type="Node" parent="EnvSoundController"]

[node name="StreamA" type="AudioStreamPlayer" parent="EnvSoundController/WeatherWind"]
bus = &"Environment"

[node name="StreamB" type="AudioStreamPlayer" parent="EnvSoundController/WeatherWind"]
bus = &"Environment"

[node name="SfxAmbient" type="AudioStreamPlayer" parent="EnvSoundController"]
bus = &"Environment"

[node name="SfxThunder" type="AudioStreamPlayer" parent="EnvSoundController"]
bus = &"Environment"

[editable path="Content/Terrain"]
